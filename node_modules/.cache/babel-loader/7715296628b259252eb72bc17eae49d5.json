{"ast":null,"code":"import _regeneratorRuntime from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from'react';import{Form,Button,Card,Alert}from'react-bootstrap';import{useAuth}from'../Context/Auth';import{Link,useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var emailRef=useRef();var passwordRef=useRef();var passwordConfirmRef=useRef();var _useAuth=useAuth(),signup=_useAuth.signup;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var history=useHistory();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(passwordRef.current.value!==passwordConfirmRef.current.value)){_context.next=3;break;}return _context.abrupt(\"return\",setError(\"Passwords do not match\"));case 3:_context.prev=3;setError(\"\");setLoading(true);_context.next=8;return signup(emailRef.current.value,passwordRef.current.value);case 8:history.push(\"/dashboard\");_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);console.log(_context.t0.message);setLoading(false);setError(_context.t0.message);case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-wrapper\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:passwordRef,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"password-confirmation\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password Confirmation\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:passwordConfirmRef,required:true})]}),/*#__PURE__*/_jsx(Button,{disabled:loading,type:\"submit\",className:\"w-100\",children:\"Sign Up\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center mt-2\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Log In\"})]})]});}export default Signup;","map":{"version":3,"sources":["/Users/saul/Documents/React/BookSystem/frontend/src/Components/SignUp.js"],"names":["React","useRef","useState","Form","Button","Card","Alert","useAuth","Link","useHistory","Signup","emailRef","passwordRef","passwordConfirmRef","signup","error","setError","loading","setLoading","history","handleSubmit","e","preventDefault","current","value","push","console","log","message"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAeC,MAAf,CAAsBC,QAAtB,KAAqC,OAArC,CACA,OAAQC,IAAR,CAAcC,MAAd,CAAsBC,IAAtB,CAA4BC,KAA5B,KAAwC,iBAAxC,CACA,OAAQC,OAAR,KAAsB,iBAAtB,CACA,OAAQC,IAAR,CAAaC,UAAb,KAA8B,kBAA9B,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,CACd,GAAMC,CAAAA,QAAQ,CAAGV,MAAM,EAAvB,CACA,GAAMW,CAAAA,WAAW,CAAGX,MAAM,EAA1B,CACA,GAAMY,CAAAA,kBAAkB,CAAGZ,MAAM,EAAjC,CAHc,aAIGM,OAAO,EAJV,CAIPO,MAJO,UAIPA,MAJO,eAKWZ,QAAQ,CAAC,EAAD,CALnB,wCAKPa,KALO,eAKDC,QALC,8BAMed,QAAQ,CAAC,KAAD,CANvB,yCAMPe,OANO,eAMCC,UAND,eAOd,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAPc,QASEW,CAAAA,YATF,gJASb,iBAA4BC,CAA5B,kHACGA,CAAC,CAACC,cAAF,GADH,KAEMV,WAAW,CAACW,OAAZ,CAAoBC,KAApB,GAA8BX,kBAAkB,CAACU,OAAnB,CAA2BC,KAF/D,0DAGcR,QAAQ,CAAC,wBAAD,CAHtB,yBAMOA,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,IAAD,CAAV,CAPP,sBAQaJ,CAAAA,MAAM,CAACH,QAAQ,CAACY,OAAT,CAAiBC,KAAlB,CAAyBZ,WAAW,CAACW,OAAZ,CAAoBC,KAA7C,CARnB,QASOL,OAAO,CAACM,IAAR,CAAa,YAAb,EATP,iFAYOC,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB,EACAV,UAAU,CAAC,KAAD,CAAV,CACAF,QAAQ,CAAC,YAAIY,OAAL,CAAR,CAdP,qEATa,+CA2Bd,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,KAAC,IAAD,wBACI,MAAC,IAAD,CAAM,IAAN,yBACI,WAAI,SAAS,CAAC,kBAAd,qBADJ,CAEKb,KAAK,eAAI,KAAC,KAAD,EAAO,OAAO,CAAC,QAAf,UAAyBA,KAAzB,EAFd,cAGA,MAAC,IAAD,EAAM,QAAQ,CAAEK,YAAhB,wBACI,MAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAC,OAAf,wBACI,KAAC,IAAD,CAAM,KAAN,oBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,OAAnB,CAA2B,GAAG,CAAET,QAAhC,CAA0C,QAAQ,KAAlD,EAFJ,GADJ,cAKI,MAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAC,UAAf,wBACI,KAAC,IAAD,CAAM,KAAN,uBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,GAAG,CAAEC,WAAnC,CAAgD,QAAQ,KAAxD,EAFJ,GALJ,cASI,MAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAC,uBAAf,wBACI,KAAC,IAAD,CAAM,KAAN,oCADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,GAAG,CAAEC,kBAAnC,CAAuD,QAAQ,KAA/D,EAFJ,GATJ,cAaI,KAAC,MAAD,EAAQ,QAAQ,CAAEI,OAAlB,CAA2B,IAAI,CAAC,QAAhC,CAAyC,SAAS,CAAC,OAAnD,qBAbJ,GAHA,GADJ,EADJ,cAsBQ,aAAK,SAAS,CAAC,wBAAf,oDAC6B,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,oBAD7B,GAtBR,GADJ,CA4BH,CAED,cAAeP,CAAAA,MAAf","sourcesContent":["import React, {useRef,useState} from 'react'\nimport {Form, Button, Card, Alert} from 'react-bootstrap'\nimport {useAuth} from '../Context/Auth'\nimport {Link,useHistory} from 'react-router-dom';\n\nfunction Signup() {\n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const passwordConfirmRef = useRef();\n    const {signup} = useAuth();\n    const [error,setError] = useState(\"\");\n    const [loading,setLoading] = useState(false)\n    const history = useHistory();\n    \n     async function handleSubmit(e){\n        e.preventDefault();\n        if(passwordRef.current.value !== passwordConfirmRef.current.value){\n            return setError(\"Passwords do not match\");\n        }\n        try{\n            setError(\"\");\n            setLoading(true); \n            await signup(emailRef.current.value, passwordRef.current.value);\n            history.push(\"/dashboard\");\n\n        }catch(err){\n            console.log(err.message);\n            setLoading(false);\n            setError(err.message);\n        }\n    }\n\n    return (\n        <div className=\"signup-wrapper\">\n            <Card >\n                <Card.Body>\n                    <h2 className=\"text-center mb-4\" >Sign Up</h2>\n                    {error && <Alert variant=\"danger\">{error}</Alert>}      \n                <Form onSubmit={handleSubmit}>\n                    <Form.Group id=\"email\">\n                        <Form.Label>Email</Form.Label>\n                        <Form.Control type=\"email\" ref={emailRef} required />\n                    </Form.Group>\n                    <Form.Group id=\"password\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" ref={passwordRef} required />\n                    </Form.Group>\n                    <Form.Group id=\"password-confirmation\">\n                        <Form.Label>Password Confirmation</Form.Label>\n                        <Form.Control type=\"password\" ref={passwordConfirmRef} required />\n                    </Form.Group>\n                    <Button disabled={loading} type=\"submit\" className=\"w-100\">Sign Up</Button>\n                </Form>\n                </Card.Body>\n            </Card>\n                <div className=\"w-100 text-center mt-2\">\n                    Already have an account? <Link to=\"/login\">Log In</Link>\n                </div>\n        </div>\n    )\n}\n\nexport default Signup\n"]},"metadata":{},"sourceType":"module"}