{"ast":null,"code":"import _regeneratorRuntime from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Card,Button,Alert}from'react-bootstrap';import{Link,useHistory}from'react-router-dom';import{useAuth}from'../Context/Auth';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useAuth=useAuth(),logout=_useAuth.logout;var history=useHistory();var _useCookies=useCookies(),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookies=_useCookies2[1],removeCookies=_useCookies2[2];var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(\"\");try{removeCookies(\"user\",{path:\"/\"});logout();history.push(\"/login\");}catch(err){setError(err.message);}case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleLogout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-wrapper\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Profile\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(\"strong\",{children:\"Email: \"}),cookies.user.email,/*#__PURE__*/_jsx(Link,{to:\"/update-profile\",className:\"btn btn-primary w-100 mt-3\",children:\"Update Profle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 text-center mt-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:handleLogout,children:\"Log Out\"})})]});}export default Dashboard;","map":{"version":3,"sources":["/Users/saul/Documents/React/BookSystem/frontend/src/Components/Dashboard.js"],"names":["React","useState","Card","Button","Alert","Link","useHistory","useAuth","useCookies","Dashboard","error","setError","logout","history","cookies","setCookies","removeCookies","handleLogout","path","push","err","message","user","email"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,OAAQC,IAAR,CAAcC,MAAd,CAAqBC,KAArB,KAAiC,iBAAjC,CACA,OAAQC,IAAR,CAAaC,UAAb,KAA8B,kBAA9B,CACA,OAAQC,OAAR,KAAsB,iBAAtB,CACA,OAAQC,UAAR,KAAyB,cAAzB,C,wFAEA,QAASC,CAAAA,SAAT,EAAqB,eACSR,QAAQ,CAAC,EAAD,CADjB,wCACVS,KADU,eACHC,QADG,4BAEAJ,OAAO,EAFP,CAEVK,MAFU,UAEVA,MAFU,CAGjB,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAHiB,gBAI2BE,UAAU,EAJrC,4CAIVM,OAJU,iBAIDC,UAJC,iBAIUC,aAJV,iBAOjB,GAAMC,CAAAA,YAAY,0FAAG,mIACjBN,QAAQ,CAAC,EAAD,CAAR,CACA,GAAG,CACCK,aAAa,CAAC,MAAD,CAAS,CAACE,IAAI,CAAC,GAAN,CAAT,CAAb,CACAN,MAAM,GACNC,OAAO,CAACM,IAAR,CAAa,QAAb,EACH,OAAMC,GAAN,CAAU,CACPT,QAAQ,CAACS,GAAG,CAACC,OAAL,CAAR,CACH,CARgB,sDAAH,kBAAZJ,CAAAA,YAAY,0CAAlB,CAUA,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,KAAC,IAAD,wBACI,MAAC,IAAD,CAAM,IAAN,yBACI,WAAI,SAAS,CAAC,kBAAd,qBADJ,CAEKP,KAAK,eAAI,KAAC,KAAD,EAAO,OAAO,CAAC,QAAf,UAAyBA,KAAzB,EAFd,cAGI,mCAHJ,CAG6BI,OAAO,CAACQ,IAAR,CAAaC,KAH1C,cAII,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,CACA,SAAS,CAAC,4BADV,2BAJJ,GADJ,EADJ,cAUI,YAAK,SAAS,CAAC,wBAAf,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAEN,YAAhC,qBADJ,EAVJ,GADJ,CAkBH,CAED,cAAeR,CAAAA,SAAf","sourcesContent":["import React,{useState} from 'react'\nimport {Card, Button,Alert} from 'react-bootstrap'\nimport {Link,useHistory} from 'react-router-dom'\nimport {useAuth} from '../Context/Auth'\nimport {useCookies} from 'react-cookie'\n\nfunction Dashboard() {\n    const [error, setError] = useState(\"\");\n    const {logout} = useAuth();\n    const history = useHistory();\n    const [cookies, setCookies,removeCookies] = useCookies();\n\n\n    const handleLogout = async () =>{\n        setError(\"\");\n        try{\n            removeCookies(\"user\", {path:\"/\"});\n            logout();\n            history.push(\"/login\");\n        }catch(err){ \n            setError(err.message);\n        }\n    }\n    return (\n        <div className=\"dashboard-wrapper\">\n            <Card>\n                <Card.Body>\n                    <h2 className=\"text-center mb-4\" >Profile</h2>\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\n                    <strong>Email: </strong>{cookies.user.email}\n                    <Link to=\"/update-profile\"\n                    className=\"btn btn-primary w-100 mt-3\">Update Profle</Link>\n                </Card.Body>\n            </Card>\n            <div className=\"w-100 text-center mt-2\">\n                <Button variant=\"link\" onClick={handleLogout}>Log Out</Button>\n            </div>\n\n\n        </div>\n    )\n}\n\nexport default Dashboard\n"]},"metadata":{},"sourceType":"module"}