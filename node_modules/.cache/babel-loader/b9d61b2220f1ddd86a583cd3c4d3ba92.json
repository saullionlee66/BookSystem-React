{"ast":null,"code":"import _regeneratorRuntime from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/saul/Documents/React/BookSystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from'react';import{Form,Button,Card,Alert}from'react-bootstrap';import{useAuth}from'../Context/Auth';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ForgotPassword(){var emailRef=useRef();var _useAuth=useAuth(),resetPassword=_useAuth.resetPassword;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setMessage(\"\");setError(\"\");setLoading(true);_context.next=7;return resetPassword(emailRef.current.value);case 7:setMessage('Check your inbox for futher instructions');_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);setLoading(false);setError(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"forgetpassword-wrapper\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Password Reset\"}),message&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:message}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/_jsx(Button,{disabled:loading,type:\"submit\",className:\"w-100\",children:\"Reset Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 text-center mt-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center mt-2\",children:[\"Need an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign Up\"})]})]});}export default ForgotPassword;","map":{"version":3,"sources":["/Users/saul/Documents/React/BookSystem/frontend/src/Components/ForgetPassword.js"],"names":["React","useRef","useState","Form","Button","Card","Alert","useAuth","Link","ForgotPassword","emailRef","resetPassword","error","setError","loading","setLoading","message","setMessage","handleSubmit","e","preventDefault","current","value","console","log"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAeC,MAAf,CAAsBC,QAAtB,KAAqC,OAArC,CACA,OAAQC,IAAR,CAAcC,MAAd,CAAsBC,IAAtB,CAA4BC,KAA5B,KAAwC,iBAAxC,CACA,OAAQC,OAAR,KAAsB,iBAAtB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,C,wFAEA,QAASC,CAAAA,cAAT,EAA0B,CACtB,GAAMC,CAAAA,QAAQ,CAAGT,MAAM,EAAvB,CADsB,aAEEM,OAAO,EAFT,CAEfI,aAFe,UAEfA,aAFe,eAGGT,QAAQ,CAAC,EAAD,CAHX,wCAGfU,KAHe,eAGTC,QAHS,8BAIOX,QAAQ,CAAC,KAAD,CAJf,yCAIfY,OAJe,eAIPC,UAJO,8BAKQb,QAAQ,CAAC,EAAD,CALhB,yCAKfc,OALe,eAKNC,UALM,uBAONC,CAAAA,YAPM,gJAOrB,iBAA4BC,CAA5B,kHACGA,CAAC,CAACC,cAAF,GADH,gBAGOH,UAAU,CAAC,EAAD,CAAV,CACAJ,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,IAAD,CAAV,CALP,sBAMaJ,CAAAA,aAAa,CAACD,QAAQ,CAACW,OAAT,CAAiBC,KAAlB,CAN1B,QAOOL,UAAU,CAAC,0CAAD,CAAV,CAPP,iFASOM,OAAO,CAACC,GAAR,CAAY,YAAIR,OAAhB,EACAD,UAAU,CAAC,KAAD,CAAV,CACAF,QAAQ,CAAC,YAAIG,OAAL,CAAR,CAXP,qEAPqB,+CAsBtB,mBACI,aAAK,SAAS,CAAC,wBAAf,wBACI,KAAC,IAAD,wBACI,MAAC,IAAD,CAAM,IAAN,yBACI,WAAI,SAAS,CAAC,kBAAd,4BADJ,CAEKA,OAAO,eAAI,KAAC,KAAD,EAAO,OAAO,CAAC,SAAf,UAA0BA,OAA1B,EAFhB,CAGKJ,KAAK,eAAI,KAAC,KAAD,EAAO,OAAO,CAAC,QAAf,UAAyBA,KAAzB,EAHd,cAIA,MAAC,IAAD,EAAM,QAAQ,CAAEM,YAAhB,wBACI,MAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAC,OAAf,wBACI,KAAC,IAAD,CAAM,KAAN,oBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,OAAnB,CAA2B,GAAG,CAAER,QAAhC,CAA0C,QAAQ,KAAlD,EAFJ,GADJ,cAMI,KAAC,MAAD,EAAQ,QAAQ,CAAEI,OAAlB,CAA2B,IAAI,CAAC,QAAhC,CAAyC,SAAS,CAAC,OAAnD,4BANJ,GAJA,cAYA,YAAK,SAAS,CAAC,wBAAf,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBADJ,EAZA,GADJ,EADJ,cAoBQ,aAAK,SAAS,CAAC,wBAAf,4CACqB,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,qBADrB,GApBR,GADJ,CA2BH,CAED,cAAeL,CAAAA,cAAf","sourcesContent":["import React, {useRef,useState} from 'react'\nimport {Form, Button, Card, Alert} from 'react-bootstrap'\nimport {useAuth} from '../Context/Auth'\nimport {Link} from 'react-router-dom';\n\nfunction ForgotPassword() {\n    const emailRef = useRef();\n    const {resetPassword} = useAuth();\n    const [error,setError] = useState(\"\");\n    const [loading,setLoading] = useState(false)\n    const [message, setMessage] = useState(\"\");\n\n     async function handleSubmit(e){\n        e.preventDefault();\n        try{\n            setMessage(\"\");\n            setError(\"\");\n            setLoading(true); \n            await resetPassword(emailRef.current.value);\n            setMessage('Check your inbox for futher instructions');\n        }catch(err){\n            console.log(err.message);\n            setLoading(false);\n            setError(err.message);\n        }\n    }\n\n    return (\n        <div className=\"forgetpassword-wrapper\">\n            <Card>\n                <Card.Body>\n                    <h2 className=\"text-center mb-4\" >Password Reset</h2>\n                    {message && <Alert variant=\"success\">{message}</Alert>}\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group id=\"email\">\n                        <Form.Label>Email</Form.Label>\n                        <Form.Control type=\"email\" ref={emailRef} required />\n                    </Form.Group>\n\n                    <Button disabled={loading} type=\"submit\" className=\"w-100\">Reset Password</Button>\n                </Form>\n                <div className=\"w-100 text-center mt-2\">\n                    <Link to=\"/login\" >Login</Link>\n                </div>\n                </Card.Body>\n\n            </Card>\n                <div className=\"w-100 text-center mt-2\">\n                    Need an account? <Link to=\"/signup\" >Sign Up</Link>\n                </div>\n\n        </div>\n    )\n}\n\nexport default ForgotPassword\n"]},"metadata":{},"sourceType":"module"}